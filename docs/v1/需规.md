# 第一阶段

**需求**

~~~
好的，我这边还是可以给你做一个基础demo，这次的demo是基于视频播放来做，基本的技术架构可能如下
前端：vue3
后端：fastapi
数据库：Mysql（+MongoDB）、Redis
对象存储：本地

好的，关于这个Demo网站的基本功能，包括以下几点主要功能设计：
1、基本架构设计
2、用户认证
用户注册、登录、微信扫码登录，还会在请求头或者COOKIE里面用到一些反爬虫算法，来保证网页数据的安全性
3、视频播放
支持键盘事情上下滚动、支持倍速播放、网页全屏
4、视频交互
点赞、收藏、评论、回复
5、用户功能性界面
用户信息页、观看历史 / 收藏 / 点赞 

1、ui以腾讯视频为参考。当然只需要做相关的功能。不需要做的先空在那里。
2、以后我的目标是建立一个能与腾讯视频等著名视频网并驾齐驱甚至更好的网站。所以数据库设计和管理非常重要。
（1）需要给用户两个参数，用户等级和活跃度。用户升级等功能，还有加入用户实名认证等功能可以以后再做。
（2）是不是写一些服务代码，能够自动生成数据库和表格？
3、虽然是demo，我让你做的东西不要跟别人说。也不要把代码给别人。
~~~

# 第一阶段 Demo 待办事项清单

## 基础架构
- [x] Vue3 前端架构设计
- [x] FastAPI 后端架构设计
- [x] 配置 MySQL 数据库
- [x] 配置 MongoDB 数据库
- [x] 配置 Redis 缓存
- [x] 配置本地对象存储

## 数据库设计
- [ ] 设计用户等级系统（第一阶段已定义表结构，算法待实现）
- [ ] 设计用户活跃度系统（第一阶段已定义表结构，算法待实现）
- [x] 编写数据库自动生成脚本
- [x] 设计用户实名认证相关表结构

## UI 设计
- [x] 基础 UI 设计
- [x] 实现响应式布局
- [x] 优化用户交互体验

## 首页功能
- [x] 实现首页轮播图
  - [x] 轮播图展示
  - [x] 轮播图切换动画
  - [ ] 轮播图点击跳转（第一阶段暂不实现，需求待确认）
- [x] 实现推荐板块
  - [x] 推荐内容展示
  - [x] 推荐内容更新机制
  - [ ] 推荐算法设计（第一阶段暂不实现）
- [x] 实现热门板块
  - [x] 热门内容展示
  - [ ] 热门内容展示算法（第一阶段暂不实现）
- [x] 实现最新板块
  - [x] 最新内容展示
  - [ ] 最新内容展示算法（第一阶段暂不实现）
- [x] 实现关注板块
  - [x] 关注内容展示
  - [ ] 关注板块展示算法（第一阶段暂不实现）

## 个人中心
- [x] 实现个人资料展示
  - [x] 基本信息展示
  - [x] 性别显示（♂♀符号）
  - [x] 用户ID复制功能
  - [x] 统计信息展示（作品、关注、粉丝数）
  - [x] 统计信息刷新按钮
- [x] 实现资料修改功能
  - [x] 基本信息修改
  - [x] 密码修改
  - [x] 头像上传
- [x] 关注、粉丝状态管理
  - [x] 关注列表弹窗（关注状态、关注和取消关注功能）
  - [x] 粉丝列表弹窗（关注状态、移出粉丝功能）
  - [x] 关注状态显示（关注、已关注、互相关注、回关）
  - [x] 关注操作确认弹窗
- [x] 视频上传功能
  - [x] 实现视频文件上传功能
  - [x] 实现视频格式检测（支持格式：mp4, avi, mov等）
  - [x] 实现视频标题自动生成（基于文件名、内容分析（待实现））
  - [x] 实现视频预览图自动生成（视频首帧）
  - [x] 实现上传进度显示组件
  - [x] 实现视频上传预览小框组件
  - [x] 实现视频存储管理
- [x] 实现作品管理
  - [x] 作品列表展示
  - [x] 作品数量统计
  - [ ] 作品状态管理（第一阶段暂不实现）
  - [ ] 作品数据统计（第一阶段暂不实现）
- [x] 我的点赞视频列表
- [x] 我的收藏视频列表
- [x] 我的观看历史列表
- [ ] 实现互动管理（第一阶段暂不实现）
  - [ ] 互动数据统计（第一阶段暂不实现）
- [ ] 实现消息中心（第一阶段暂不实现）
  - [ ] 系统通知（第一阶段暂不实现）
  - [ ] 互动消息（第一阶段暂不实现）
  - [ ] 消息已读状态（第一阶段暂不实现）
  - [ ] 消息删除功能（第一阶段暂不实现）

## 他人主页功能
- [x] 实现他人主页展示
  - [x] 用户基本信息展示
  - [x] 性别显示（符号）
  - [x] 用户ID复制功能
  - [x] 统计信息展示（作品、关注、粉丝数）
  - [x] 统计信息刷新按钮
- [x] 实现关注功能
  - [x] 关注状态显示（关注、已关注、互相关注、回关）
  - [x] 关注操作确认弹窗
  - [x] 关注状态实时更新
- [x] 实现标签页布局
  - [x] 作品标签页
  - [x] 点赞标签页（空状态提示）
  - [x] 收藏标签页（空状态提示）
- [x] 实现视频列表展示
  - [x] 视频网格布局
  - [x] 分页加载功能
  - [x] 刷新功能

## 用户认证
- [x] 实现用户注册功能
- [x] 实现用户登录功能
- [ ] 实现微信扫码登录
- [x] 实现请求头反爬虫算法
- [x] 实现 Cookie 安全机制
- [x] 实现用户认证中间件
- [x] 实现JWT Token验证
- [x] 实现密码更新后Token失效机制

## 视频播放
- [x] 实现视频播放器基础功能
  - [x] 播放/暂停控制
  - [x] 进度条控制
  - [x] 音量控制
- [x] 实现键盘上下滚动控制
- [x] 实现视频倍速播放（0.5x-1.5x）
- [x] 实现网页全屏功能
- [x] 实现视频加载优化
- [x] 实现视频缓冲提示
- [x] 实现视频预览图显示
- [x] 实现视频时长显示

## 视频交互
- [x] 实现视频点赞功能
  - [x] 点赞动画效果
  - [x] 点赞数统计
  - [x] 点赞状态同步
- [x] 实现视频收藏功能
  - [ ] 收藏夹管理（第一阶段暂不实现）
  - [x] 收藏分类
  - [x] 收藏状态同步
- [x] 实现视频评论功能
  - [x] 评论发布
  - [x] 评论列表展示
  - [x] 评论分页加载
  - [x] 评论树形结构
  - [x] 评论点赞/踩功能
  - [x] 评论回复功能
  - [x] 评论删除功能（作者和视频上传者可删除）
  - [ ] 评论排序（最新/最热）
  - [ ] 回复通知（第一阶段暂不实现）
  - [ ] 回复管理（第一阶段暂不实现）

## 视频管理
- [x] 实现视频详情页
  - [x] 视频信息展示
  - [x] 作者信息展示
  - [x] 关注作者功能
  - [x] 视频统计数据展示
- [x] 实现视频列表组件
  - [x] 视频卡片组件
  - [x] 视频网格布局
  - [x] 分页加载功能
  - [x] 刷新功能
  - [x] 空状态提示

## 系统功能
- [x] 实现API响应统一格式
- [x] 实现错误处理中间件
- [x] 实现日志记录系统
- [x] 实现数据库连接池
- [x] 实现缓存机制
- [x] 实现文件上传服务
- [x] 实现用户行为分析（MongoDB）
- [x] 实现视频观看统计

## 前端功能
- [x] 实现路由守卫
- [x] 实现状态管理（Pinia）
- [x] 实现HTTP请求封装
- [x] 实现全局组件注册
- [x] 实现主题样式系统
- [x] 实现响应式布局
- [x] 实现事件总线系统
- [x] 实现本地存储管理

## 后端功能
- [x] 实现数据库迁移（Alembic）
- [x] 实现API文档自动生成
- [x] 实现CORS跨域处理
- [x] 实现请求限流
- [x] 实现数据验证（Pydantic）
- [x] 实现异步数据库操作
- [x] 实现文件存储服务
- [x] 实现用户权限控制

